{% extends '/Base.html.twig' %}

{% block bodyTitleMenu %}
    {% set buttons = [
        {route: type ~ '_List', title: 'List', permission: READ},
    ] %}

    {% if entity.id is not null %}
        {% set buttons = buttons|merge([
            {route: type ~ '_Details', routeParams: {'slug': entity.slug}, title: 'Details', permission: READ},
            {route: type ~ '_Edit', routeParams: {'slug': entity.slug}, title: 'Edit', permission: UPDATE},
            {route: type ~ '_Delete', routeParams: {'slug': entity.slug}, title: 'Delete', style: 'btn-danger', permission: DELETE},
        ]) %}
    {% endif %}

    {% for button in buttons %}
        {% if is_granted(button.permission, type|FQN) %}
            {% include '/Include/Button.html.twig' with {'button': button} %}
        {% endif %}
    {% endfor %}
{% endblock %}